(this.webpackJsonpplaces_server_ui=this.webpackJsonpplaces_server_ui||[]).push([[0],{74:function(e,t,r){"use strict";r.r(t);var n=r(3),c=r(0),s=r(17),a=r.n(s),i=r(12),l=r(6),u=r(27),j=function(){return Object(n.jsx)(u.a,{bg:"light",expand:"true",children:Object(n.jsx)(u.a.Brand,{href:"#home",children:"PlacesAPI"})})},o=r(10),d=r.n(o),b=r(14),h=r(77),p=r(78),x=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1];return[{type:e,value:n,onChange:function(e){s(e.target.value)}},function(){s("")}]},O=r(19),f=r.n(O),m={get:function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{placeName:t,radius:r}},e.next=3,f.a.get("http://localhost:8000/search",n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},v=function(e){var t=e.setPlaces,r=e.notify,c=Object(l.f)(),s=x("text"),a=Object(i.a)(s,2),u=a[0],j=a[1],o=x("number"),O=Object(i.a)(o,2),f=O[0],v=O[1],g=function(){var e=Object(b.a)(d.a.mark((function e(n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,m.get(u.value,f.value);case 4:s=e.sent,t(s),j(),v(),c.push("/results"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),r(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{style:{position:"absolute",left:"50%",top:"20%",transform:"translate(-50%, -50%)"},children:[Object(n.jsx)("h1",{children:"Search for Places!"}),Object(n.jsxs)(h.a,{className:"text-center",onSubmit:g,inline:!0,children:[Object(n.jsx)(h.a.Label,{className:"mb-2 mr-sm-2",children:Object(n.jsx)("b",{children:"Place:"})}),Object(n.jsx)(h.a.Control,{className:"mb-2 mr-sm-3",type:u.type,onChange:u.onChange,placeholder:"...Oakland City Hall"}),Object(n.jsx)(h.a.Label,{className:"mb-2 mr-sm-2",children:Object(n.jsx)("b",{children:"Radius:"})}),Object(n.jsx)(h.a.Control,{className:"mb-2 mr-sm-2",type:f.type,onChange:f.onChange,placeholder:"...in meters"}),Object(n.jsx)(p.a,{variant:"primary",type:"submit",className:"mb-2 mr-sm-2",children:"Search!"})]})]})},g=r(76),y=r(16),w=function(e){var t=e.places,r=e.setXid;return console.log(t),t?Object(n.jsx)("div",{children:Object(n.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Distance (m)"}),Object(n.jsx)("th",{children:"Type of Attraction"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(y.b,{to:"/details",onClick:function(){return r(e.properties.xid)},children:e.properties.name})}),Object(n.jsx)("td",{children:Math.round(e.properties.dist)}),Object(n.jsx)("td",{children:e.properties.kinds})]},e.properties.xid)}))})]})}):null},k={get:function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("http://localhost:8000/details","/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){var t=e.xid,r=e.notify,s=Object(c.useState)(null),a=Object(i.a)(s,2),l=a[0],u=a[1];Object(c.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get(t);case 3:n=e.sent,u(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(l);return l?Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:[" ",l.name]}),l.preview?Object(n.jsx)("img",{src:l.preview.source}):null,Object(n.jsxs)("h5",{children:[" ","Address: ",l.address.house_number," ",l.address.pedestrian,"/",l.address.road,", ",l.address.city,"/",l.address.hamlet,","," ",l.address.state,", ",l.address.country]}),l.wikipedia_extracts?Object(n.jsxs)("div",{children:[" ",l.wikipedia_extracts.text]}):null]}):Object(n.jsx)("div",{children:" ...loading"})};var N=function(e){var t=e.errorMessage;return t?Object(n.jsx)("div",{style:{color:"red"},children:t}):null},S=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),r=t[0],s=t[1],a=function(e){s(e),setTimeout((function(){s(null)}),1e4)},u=Object(c.useState)(null),o=Object(i.a)(u,2),d=o[0],b=o[1],h=Object(c.useState)(null),p=Object(i.a)(h,2),x=p[0],O=p[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(j,{}),Object(n.jsx)(N,{errorMessage:r}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/results",children:Object(n.jsx)(w,{places:x,setXid:b})}),Object(n.jsx)(l.a,{path:"/details",children:Object(n.jsx)(C,{xid:d,notify:a})}),Object(n.jsx)(l.a,{path:"",children:Object(n.jsx)(v,{setPlaces:O,notify:a})})]})]})};a.a.render(Object(n.jsx)(y.a,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.b9f472b2.chunk.js.map