{"version":3,"sources":["components/Banner.js","hooks/index.js","services/searchs.js","components/Search.js","components/Results.js","services/details.js","components/Details.js","App.js","index.js"],"names":["Banner","Navbar","bg","expand","Brand","href","useField","type","useState","value","setValue","onChange","event","target","get","placeName","radius","a","config","params","axios","response","data","Search","setPlaces","notify","history","useHistory","resetPlaceName","resetRadius","onSubmit","e","preventDefault","searchService","places","push","console","log","message","style","position","left","top","transform","Form","className","inline","Label","Control","placeholder","Button","variant","Results","setXid","Table","striped","bordered","hover","map","place","to","onClick","properties","xid","name","Math","round","dist","kinds","Details","details","setDetails","useEffect","detailService","getDetails","preview","src","source","address","house_number","pedestrian","road","city","hamlet","state","country","wikipedia_extracts","text","Notify","errorMessage","color","App","setErrorMessage","setTimeout","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b9f472b2.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\n\r\nconst Banner = () => {\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"true\">\r\n      <Navbar.Brand href=\"#home\">PlacesAPI</Navbar.Brand>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import {useState} from \"react\";\r\n\r\nexport const useField = type => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onChange = event => {\r\n    setValue(event.target.value);\r\n  };\r\n  const reset = () => {\r\n    setValue(\"\");\r\n  };\r\n\r\n  return [{type, value, onChange}, reset];\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"http://localhost:8000/search\";\r\n\r\nconst get = async (placeName, radius) => {\r\n  const config = {\r\n    params: {\r\n      placeName,\r\n      radius\r\n    }\r\n  };\r\n  const response = await axios.get(baseUrl, config);\r\n  return response.data;\r\n};\r\n\r\nexport default {get};\r\n","import React from \"react\";\r\nimport {Form, Button} from \"react-bootstrap\";\r\nimport {useField} from \"../hooks/index\";\r\nimport searchService from \"../services/searchs\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst Search = ({setPlaces, notify}) => {\r\n  const history = useHistory();\r\n  const [placeName, resetPlaceName] = useField(\"text\");\r\n  const [radius, resetRadius] = useField(\"number\");\r\n  const resetForm = () => {\r\n    resetPlaceName();\r\n    resetRadius();\r\n  };\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const places = await searchService.get(placeName.value, radius.value);\r\n      setPlaces(places);\r\n      resetForm();\r\n      history.push(\"/results\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      notify(error.message);\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        left: \"50%\",\r\n        top: \"20%\",\r\n        transform: \"translate(-50%, -50%)\"\r\n      }}\r\n    >\r\n      <h1>Search for Places!</h1>\r\n      <Form className=\"text-center\" onSubmit={onSubmit} inline={true}>\r\n        <Form.Label className=\"mb-2 mr-sm-2\">\r\n          <b>Place:</b>\r\n        </Form.Label>\r\n        <Form.Control\r\n          className=\"mb-2 mr-sm-3\"\r\n          type={placeName.type}\r\n          onChange={placeName.onChange}\r\n          placeholder=\"...Oakland City Hall\"\r\n        />\r\n        <Form.Label className=\"mb-2 mr-sm-2\">\r\n          <b>Radius:</b>\r\n        </Form.Label>\r\n        <Form.Control\r\n          className=\"mb-2 mr-sm-2\"\r\n          type={radius.type}\r\n          onChange={radius.onChange}\r\n          placeholder=\"...in meters\"\r\n        />\r\n        <Button variant=\"primary\" type=\"submit\" className=\"mb-2 mr-sm-2\">\r\n          Search!\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\nexport default Search;\r\n","import React from \"react\";\r\nimport {Table} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Results = ({places, setXid}) => {\r\n  console.log(places);\r\n  if (!places) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Distance (m)</th>\r\n            <th>Type of Attraction</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {places.map(place => {\r\n            return (\r\n              <tr key={place.properties.xid}>\r\n                <td>\r\n                  <Link\r\n                    to=\"/details\"\r\n                    onClick={() => setXid(place.properties.xid)}\r\n                  >\r\n                    {place.properties.name}\r\n                  </Link>\r\n                </td>\r\n                <td>{Math.round(place.properties.dist)}</td>\r\n                <td>{place.properties.kinds}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\nexport default Results;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"http://localhost:8000/details\";\r\n\r\nconst get = async xid => {\r\n  const response = await axios.get(`${baseUrl}/${xid}`);\r\n  return response.data;\r\n};\r\n\r\nexport default {get};\r\n","import React, {useEffect, useState} from \"react\";\r\nimport detailService from \"../services/details\";\r\n\r\nconst Details = ({xid, notify}) => {\r\n  const [details, setDetails] = useState(null);\r\n  useEffect(() => {\r\n    const getDetails = async () => {\r\n      try {\r\n        const data = await detailService.get(xid);\r\n        setDetails(data);\r\n      } catch (err) {\r\n        notify(err.message);\r\n      }\r\n    };\r\n    getDetails();\r\n  }, []);\r\n  console.log(details);\r\n  const checkIfWiki = () => {\r\n    if (details.wikipedia_extracts) {\r\n      return <div> {details.wikipedia_extracts.text}</div>;\r\n    }\r\n    return null;\r\n  };\r\n  const checkIfImage = () => {\r\n    if (details.preview) {\r\n      return <img src={details.preview.source} />;\r\n    }\r\n    return null;\r\n  };\r\n  if (!details) {\r\n    return <div> ...loading</div>;\r\n  }\r\n  return (\r\n    <div>\r\n      <h2> {details.name}</h2>\r\n      {checkIfImage()}\r\n      <h5>\r\n        {\" \"}\r\n        Address: {details.address.house_number} {details.address.pedestrian}/\r\n        {details.address.road}, {details.address.city}/{details.address.hamlet},{\" \"}\r\n        {details.address.state}, {details.address.country}\r\n      </h5>\r\n      {checkIfWiki()}\r\n    </div>\r\n  );\r\n};\r\nexport default Details;\r\n","import React, {useState} from \"react\";\nimport {Switch, Route} from \"react-router-dom\";\nimport Banner from \"./components/Banner\";\nimport Search from \"./components/Search\";\nimport Results from \"./components/Results\";\nimport Details from \"./components/Details\";\n\nfunction App() {\n  const [errorMessage, setErrorMessage] = useState(null);\n  const notify = message => {\n    setErrorMessage(message);\n    setTimeout(() => {\n      setErrorMessage(null);\n    }, 10000);\n  };\n  const [xid, setXid] = useState(null);\n  const [places, setPlaces] = useState(null);\n  return (\n    <div>\n      <Banner />\n      <Notify errorMessage={errorMessage} />\n      <Switch>\n        <Route path=\"/results\">\n          <Results places={places} setXid={setXid} />\n        </Route>\n        <Route path=\"/details\">\n          <Details xid={xid} notify={notify} />\n        </Route>\n        <Route path=\"\">\n          <Search setPlaces={setPlaces} notify={notify} />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\nconst Notify = ({errorMessage}) => {\n  if (!errorMessage) {\n    return null;\n  }\n  return <div style={{color: \"red\"}}>{errorMessage}</div>;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\n// import \"index.css\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}